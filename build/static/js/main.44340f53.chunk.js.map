{"version":3,"sources":["context/UserContext.jsx","components/auth/AuthOptions.jsx","components/layout/Header.jsx","components/layout/Post.jsx","components/pages/Home.jsx","components/misc/ErrorMessage.jsx","components/auth/Register.jsx","components/auth/Login.jsx","components/pages/Create.jsx","components/pages/PostExpand.jsx","components/pages/User.jsx","App.js","index.js"],"names":["createContext","AuthOptions","useContext","UserContext","userData","setUserData","history","useHistory","className","user","to","userName","onClick","token","localStorage","setItem","push","Header","id","Post","props","handleDelete","a","postID","Axios","delete","title","author","content","substring","deleteButton","Home","useState","posts","setPosts","useEffect","get","postRes","data","console","log","getPosts","newPost","map","post","key","_id","ErrorMessage","msg","clearError","Register","username","setUsername","email","setEmail","pass","setPass","passCheck","setPassCheck","error","setError","submitForm","event","preventDefault","newUser","password","passwordCheck","loginRes","response","onSubmit","type","name","placeholder","onChange","e","target","value","undefined","Login","setPassword","Create","setTitle","setContent","createPost","PostExpand","setPostID","setAuthor","search","queryString","parse","window","location","findPost","renderPost","User","findPosts","length","App","getItem","headers","userRes","checkLoggedIn","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44340f53.chunk.js","sourcesContent":["import {createContext} from 'react';\r\n\r\nexport default createContext(null); ","import React, {useContext} from 'react';\r\nimport {useHistory, Link} from 'react-router-dom';\r\nimport UserContext from '../../context/UserContext'\r\n\r\nconst AuthOptions = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserContext);\r\n\r\n    const history = useHistory();\r\n\r\n    const register = () => history.push(\"/register\");\r\n    const login = () => history.push(\"/login\");\r\n    const logout = () => {\r\n        setUserData({\r\n            token: null,\r\n            user: null\r\n        });\r\n        localStorage.setItem(\"auth-token\", \"\");\r\n        history.push('/');\r\n    }\r\n\r\n    return(\r\n        <nav className=\"auth-options\">\r\n        {\r\n            userData.user ? (\r\n                <>\r\n                <Link  className=\"my-post-btn\" to={\"/user?id=\"+userData.user.userName}>\r\n                My Posts\r\n                </Link>                \r\n                <button onClick={logout}>Log out</button>\r\n                </>\r\n            ) : \r\n            <>\r\n            <button onClick={login}>Login</button>\r\n            <button onClick={register}>Register</button>\r\n            </>\r\n        }\r\n            \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default AuthOptions;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport AuthOptions from '../auth/AuthOptions'\r\n\r\nconst Header = () => {\r\n    return(\r\n        <header id=\"header\">\r\n        <Link to=\"/\">\r\n        <h2 className=\"page-name\">Blog Page</h2>\r\n        </Link>\r\n        <AuthOptions />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Axios from 'axios';\r\n\r\nconst Post = (props) => {\r\n\r\n    const handleDelete = async() => {\r\n       const postID = props.id;\r\n        await Axios.delete(\"https://craig-blog-site.herokuapp.com/posts/\"+postID);\r\n    }\r\n\r\n    return(\r\n        <div className=\"post-outer\">\r\n            <div className=\"post-inner\">\r\n                <h3 className='post-title'>{props.title}</h3>\r\n                <p className='author'>written by {props.author}</p>\r\n                <p className='post-content'>{props.content.substring(0,250) + \" ...\"}\r\n                <Link to={\"/posts?id=\"+props.id}>\r\n                <button>Read more</button>\r\n                </Link></p>\r\n                {props.deleteButton ? <div className=\"delete-btn\"><button onClick={handleDelete} className=\"error-message\">Delete</button></div> : null}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React, { useContext, useState, useEffect } from 'react';\r\nimport UserContext from '../../context/UserContext'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport Post from '../layout/Post';\r\n\r\nconst Home = () => {\r\n\r\n    \r\n    const {userData} = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        \r\n\r\n        const getPosts = async () => {\r\n        \r\n            const postRes = await Axios.get(\"https://craig-blog-site.herokuapp.com/posts\");\r\n            setPosts(postRes.data.posts);\r\n            console.log(userData);\r\n        }       \r\n        getPosts();\r\n        \r\n    },[userData]);\r\n\r\n    const newPost = () => {\r\n        if(userData.token)\r\n        {\r\n            history.push('/create')\r\n        }\r\n        else{\r\n            history.push('/login')\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    return(\r\n        <div>\r\n            { userData.user ? <div  className=\"welcome\"><h1>Welcome {userData.user.userName}</h1>\r\n                                <h2>Anything on your mind today?</h2>\r\n                                <button onClick={newPost}>+</button>\r\n                                </div> \r\n                     : <div className=\"welcome\">\r\n                        <h1>Write what's on your mind.</h1>\r\n                        <button onClick={newPost}>+</button>\r\n                        </div>}\r\n\r\n            {posts.map((post) => <Post key={post._id} author={post.author} content={post.content} title={post.title} id={post._id} deleteButton={false} />)}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nfunction ErrorMessage (props) {\r\n\r\n    return(\r\n        <div className=\"error-message\">\r\n            <span>{props.msg}</span>\r\n            <button onClick={props.clearError}><b>X</b></button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","import React, { useState, useContext } from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport UserContext from '../../context/UserContext'\r\nimport ErrorMessage from '../misc/ErrorMessage'\r\n\r\nconst Register = () => {\r\n\r\n    const history = useHistory();\r\n    const {setUserData} = useContext(UserContext);\r\n\r\n    const [username, setUsername] = useState();\r\n    const [email, setEmail] = useState();\r\n    const [pass, setPass] = useState();\r\n    const [passCheck, setPassCheck] = useState();\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const submitForm = async (event) => {\r\n        event.preventDefault();\r\n        try{\r\n        const newUser = {\r\n            userName:username,\r\n            email,\r\n            password:pass,\r\n            passwordCheck:passCheck\r\n        };\r\n\r\n        await Axios.post(\"https://craig-blog-site.herokuapp.com/users/register\",newUser);\r\n        const loginRes = await Axios.post(\"https://craig-blog-site.herokuapp.com/users/login\",{\r\n            email,\r\n            password:pass\r\n        })\r\n\r\n        setUserData({\r\n            token: loginRes.data.token,\r\n            user: loginRes.data.user\r\n        })\r\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\r\n        history.push(\"/\");\r\n    }\r\n    catch(err){\r\n        err.response.data.msg && setError(err.response.data.msg)\r\n    }\r\n    }\r\n\r\n    return(\r\n\r\n        <div className=\"outer-login\">\r\n            <div className=\"inner-login register\">\r\n                <form onSubmit={submitForm} >\r\n            <h1>Register</h1>\r\n                    \r\n                   <p className=\"login-username\">\r\n                    <input  type=\"text\" name=\"reg-username\" placeholder=\"Username\" onChange={e => setUsername(e.target.value)} />\r\n                     </p>\r\n                   <p className=\"login-pw\">\r\n                    <input  type=\"text\" name=\"reg-email\" placeholder=\"Email\" onChange={e => setEmail(e.target.value)} />\r\n                    </p>\r\n                   <p className=\"login-pw\">\r\n                   <input  type=\"password\" name=\"reg-pass\" placeholder=\"Password\" onChange={e => setPass(e.target.value)}/>\r\n                   </p>\r\n                   <p className=\"login-pw\"><input  type=\"password\" name=\"reg-pass-check\" placeholder=\"Confirm password\" onChange={e => setPassCheck(e.target.value)} />\r\n                   </p>\r\n                   <p> <button type=\"submit\" >Submit</button> </p>\r\n                </form>\r\n            </div>\r\n            { error && <ErrorMessage msg={error} clearError={()=>setError(undefined)} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React, { useState, useContext } from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport UserContext from '../../context/UserContext'\r\nimport ErrorMessage from '../misc/ErrorMessage'\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState();\r\n    const[password, setPassword] = useState();\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const {setUserData} = useContext(UserContext);\r\n\r\n    \r\n\r\n    const submitForm = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try{\r\n\r\n        const loginRes = await Axios.post(\"https://craig-blog-site.herokuapp.com/users/login\",{\r\n            email,\r\n            password\r\n        })\r\n\r\n        setUserData({\r\n            token: loginRes.data.token,\r\n            user: loginRes.data.user\r\n        });\r\n\r\n        localStorage.setItem(\"auth-token\",loginRes.data.token);\r\n\r\n        history.push(\"/\");\r\n\r\n    }\r\n    catch(err){\r\n        err.response.data.msg && setError(err.response.data.msg)\r\n    }\r\n    }\r\n\r\n    return(\r\n        <div className=\"outer-login\">\r\n            <div className=\"inner-login\">\r\n            <form onSubmit={submitForm} >\r\n                <h1>Log In</h1>\r\n\r\n                   <p className=\"login-username\"> <input  type=\"text\" name=\"email\" placeholder=\"Email\" onChange={e => {setEmail(e.target.value)}}/></p>\r\n                   <p className=\"login-pw\"> <input  type=\"password\" name=\"password\" placeholder=\"Password\" onChange={e => {setPassword(e.target.value)}}/></p>\r\n                   <p> <button type=\"submit\" >Log in</button> </p>\r\n            </form>\r\n            </div>\r\n            { error && <ErrorMessage msg={error} clearError={()=>setError(undefined)} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, { useContext, useState } from 'react';\r\nimport UserContext from '../../context/UserContext'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\n\r\nconst Create = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const {userData} = useContext(UserContext);\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    // eslint-disable-next-line\r\n    const [author, setAuthor] = useState(userData.user.userName);\r\n\r\n    const createPost = async (event) => {\r\n        event.preventDefault();\r\n        // eslint-disable-next-line\r\n        try{const postRes = await Axios.post(\"https://craig-blog-site.herokuapp.com/posts\", {\r\n            title,\r\n            content,\r\n            author\r\n        });\r\n\r\n        history.push('/');\r\n    }\r\n        catch(err){\r\n            //err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div  className=\"create\">\r\n        <form onSubmit={createPost}>\r\n        <div>\r\n           <input type=\"text\" placeholder=\"Title\" onChange={e=>setTitle(e.target.value)} />\r\n           </div> \r\n            <div>\r\n            <textarea placeholder=\"Write what's on your mind...\" onChange={e=>setContent(e.target.value)} />\r\n            </div>\r\n            <button type=\"submit\">Submit</button>\r\n        </form>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Create;","import React, {useEffect, useState} from 'react';\r\nimport queryString from 'query-string';\r\nimport Axios from 'axios'\r\n\r\nconst PostExpand = () => {\r\n\r\n    // eslint-disable-next-line\r\n    const [postID, setPostID] = useState(\"\");\r\n    const [author, setAuthor] = useState(\"\");\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const renderPost = async () => {\r\n\r\n            const search = queryString.parse(window.location.search);\r\n             const findPost = await Axios.get(\"https://craig-blog-site.herokuapp.com/posts/\"+search.id)\r\n             setPostID(findPost.data.post._id);\r\n             setAuthor(findPost.data.post.author);\r\n             setTitle(findPost.data.post.title);\r\n             setContent(findPost.data.post.content);\r\n\r\n        }\r\n\r\n        renderPost();\r\n    },[])\r\n\r\n    return(\r\n<div>\r\n    <div className=\"post-expand\">\r\n        <h1>{title}</h1>\r\n        <h4>written by {author}</h4>\r\n        <p>{content}</p>\r\n    </div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default PostExpand;","import React, {useEffect, useState} from 'react';\r\nimport queryString from 'query-string';\r\nimport Axios from 'axios'\r\nimport Post from '../layout/Post'\r\n\r\nconst User = () => {\r\n\r\n    const [posts,setPosts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const findPosts = async () => {\r\n\r\n            const search = queryString.parse(window.location.search);\r\n             const postRes = await Axios.get(\"https://craig-blog-site.herokuapp.com/posts/user/\"+search.id)\r\n             setPosts(postRes.data.posts);\r\n\r\n        }\r\n\r\n        findPosts();\r\n    },[posts])\r\n\r\n    return(\r\n        <div className=\"user-posts\">\r\n            {posts.length === 0 ? <h1 className=\"welcome\">You have no posts yet!</h1> : null}\r\n            {posts.map((post) => <Post key={post._id} author={post.author} content={post.content} title={post.title} id={post._id} deleteButton={true} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React, { useState, useEffect } from 'react';\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\nimport Axios from 'axios';\nimport Header from \"./components/layout/Header\";\nimport Home from \"./components/pages/Home\";\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\nimport UserContext from './context/UserContext';\n//import Footer from './components/layout/Footer'\nimport './styles.css';\nimport Create from './components/pages/Create';\nimport PostExpand from './components/pages/PostExpand';\nimport User from './components/pages/User';\n\n\nfunction App() {\n\nconst [userData,setUserData] = useState({\n  token: undefined,\n  user: undefined\n});\n\n\nuseEffect(() => {\n  const checkLoggedIn = async () => {\n    let token = localStorage.getItem('auth-token');\n    if(token === null){\n      token = \"\";\n      localStorage.setItem(\"auth-token\", token);\n    }\n    const tokenRes = await Axios.post('https://craig-blog-site.herokuapp.com/users/tokenCheck',\n    null,\n    {headers: {\"x-auth-token\" : token}});\n    \n    if(tokenRes.data) {\n      const userRes = await Axios.get('https://craig-blog-site.herokuapp.com/users/', {headers: {\"x-auth-token\": token}});\n      setUserData({\n        token,\n        user: userRes.data\n      })\n    }\n\n    \n  }\n\n  checkLoggedIn();\n},[]);\n\n  return (\n    <>\n     <BrowserRouter>\n     <UserContext.Provider value={{userData,setUserData} }>\n        <Header />\n        <Switch>\n         <Route exact path=\"/\" component={Home} />\n         <Route path=\"/login\" component={Login} />\n         <Route path=\"/register\" component={Register} />\n         <Route path=\"/create\" component={Create} />\n         <Route path=\"/posts\" component={PostExpand} />\n         <Route path=\"/user\" component={User} />\n         </Switch>\n     </UserContext.Provider>    \n     </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}